# MA（Markabel Algebra）完全手册

> **Markabel Algebra = 标记可以的代数**
> 
> **核心原则：数值随意，标签为王**

---

## 一、核心定义

### 1.1 基础构造

$$\mathbf{A}_n = \mathbf{N}_x^y = (N \times X) \times Y = N \cdot X \cdot Y = n$$

| 要素 | 符号 | 约束 | 角色 |
|:---:|:---:|:---:|:---|
| 基础数 | $N$ | $\neq 0$，具体值可任意 | 底数 |
| 中间乘数 | $X$ | $\neq 0$，具体值可任意 | 能级核心 |
| 最后乘数 | $Y$ | $\neq 0$，具体值可任意 | 乘数 |
| 能级标签 | $n$ | $= N \cdot X \cdot Y$ | **运算核心，唯一重要** |

**整体约束：** $\mathbf{A} \neq 0$（非零约束）

**系统封闭：** 合法运算下，结果仍为 $\mathbf{A}_k$

---

### 1.2 数值与标签的关系

#### 性质1：同一标签，无限数值

$$\mathbf{A}_6 = (1 \times 2) \times 3 = 6$$
$$\mathbf{A}_6 = (2 \times 3) \times 1 = 6$$
$$\mathbf{A}_6 = (1 \times 6) \times 1 = 6$$
$$\mathbf{A}_6 = (3 \times 2) \times 1 = 6$$
$$\cdots$$

**无限多种构造，同一标签 $\mathbf{A}_6$**

#### 性质2：不同标签，数值可同

$$\mathbf{A}_6 = (1 \times 2) \times 3 = 6$$
$$\mathbf{A}_3 = (1 \times 1) \times 3 = 3$$

**运算只看标签，$N,X,Y$ 的具体值不参与标签运算**

---

### 1.3 简记规则（无上下标时）

| 运算 | 展开 | 简记 |
|:---|:---|:---:|
| $\mathbf{A}$ | $(N_x^y)$ | 原始构造 |
| $\mathbf{A} + \mathbf{A}$ | $2(N_x^y)$ | $\mathbf{A}_1$ |
| $\mathbf{A} + \mathbf{A} + \mathbf{A}$ | $3(N_x^y)$ | $\mathbf{A}_1 + \mathbf{A}$ |
| $n \cdot \mathbf{A}$ | $n(N_x^y)$ | $\mathbf{A}_{n-1} + \mathbf{A}$ 或组合 |

**示例：** $8_2 = 2(N_x^y) + 4(N_x^y) + 8(N_x^y)$ 表示位权分解标记

---

## 二、基础运算表

### 2.1 加法（能级吸收）

| 运算 | 标签规则 | 数值结果 | 示例 |
|:---|:---|:---:|:---|
| **同级自增** | $\mathbf{A}_n + \mathbf{A}_n = \mathbf{A}_{n+1}$ | 标签+1 | $\mathbf{A}_3 + \mathbf{A}_3 = \mathbf{A}_4$ |
| **异级吸收** | $\mathbf{A}_m + \mathbf{A}_n = \mathbf{A}_{\max(m,n)}$（$m \neq n$）| 取高 | $\mathbf{A}_5 + \mathbf{A}_3 = \mathbf{A}_5$ |

**关键：** 加法产生层级跃迁或高位压制

---

### 2.2 乘法（能级累积）

| 运算 | 标签规则 | 数值结果 | 示例 |
|:---|:---|:---:|:---|
| **标准乘法** | $\mathbf{A}_m \times \mathbf{A}_n = \mathbf{A}_{m \times n}$ | 标签积 | $\mathbf{A}_5 \times \mathbf{A}_5 = \mathbf{A}_{25}$ |
| **复合扩展** | $\mathbf{A}_{m \times n} \times \mathbf{A}_p = \mathbf{A}_{m \times n \times p}$ | 连乘 | $\mathbf{A}_{10} \times \mathbf{A}_2 = \mathbf{A}_{20}$ |

**关键：** 乘法产生标签积，可无限复合

---

### 2.3 减法（能级递减）

| 运算 | 标签规则 | 约束 | 示例 |
|:---|:---|:---:|:---|
| **正向递减** | $\mathbf{A}_m - \mathbf{A}_n = \mathbf{A}_{m-n}$ | $m > n$（必须大减小）| $\mathbf{A}_7 - \mathbf{A}_3 = \mathbf{A}_4$ |
| **非法情况** | $\mathbf{A}_m - \mathbf{A}_n$（$m \leq n$）| 禁止或转入Pattern模式 | — |

---

### 2.4 除法（能级约简）

| 运算 | 标签规则 | 约束 | 示例 |
|:---|:---|:---:|:---|
| **整除约简** | $\mathbf{A}_m / \mathbf{A}_n = \mathbf{A}_{m/n}$ | $m$ 被 $n$ 整除 | $\mathbf{A}_{12} / \mathbf{A}_3 = \mathbf{A}_4$ |
| **非整除** | $\mathbf{A}_m / \mathbf{A}_n$（不整除）| 禁止或转入Pattern模式 | — |

---

### 2.5 幂运算（能级指数）

| 运算 | 标签规则 | 数值结果 | 示例 |
|:---|:---|:---:|:---|
| **标签幂** | $(\mathbf{A}_m)^n = \mathbf{A}_{m^n}$ | 指数 | $\mathbf{A}_2^3 = \mathbf{A}_8$ |
| **多层幂** | $(\mathbf{A}_m^n)^p = \mathbf{A}_{m^{n \times p}}$ | 指数相乘 | $((\mathbf{A}_2)^2)^2 = \mathbf{A}_{16}$ |

**注：** `^` 为脱字符，表示幂运算

---

## 三、特殊元素

### 3.1 $\mathbf{A}_0$（零元）

| 性质 | 说明 | 公式 |
|:---|:---|:---:|
| 加法吸收 | $\mathbf{A}_n + \mathbf{A}_0 = \mathbf{A}_n$（$n > 0$）| 单位元 |
| 乘法零化 | $\mathbf{A}_n \times \mathbf{A}_0 = \mathbf{A}_0$ | 零元 |
| 减法禁止 | $\mathbf{A}_0 - \mathbf{A}_n$ | 非法（负标签）|
| 除法禁止 | $\mathbf{A}_n / \mathbf{A}_0$ | 非法（除零）|
| 幂运算 | $(\mathbf{A}_0)^n = \mathbf{A}_0$ | 保持零 |

**$\mathbf{A}_0$ 是乘法的零元，加法的单位元（对 $n > 0$）**

---

### 3.2 $\mathbf{A}_1$（单位元）

| 性质 | 说明 | 公式 |
|:---|:---|:---:|
| 乘法单位 | $\mathbf{A}_n \times \mathbf{A}_1 = \mathbf{A}_n$ | 单位元 |
| 幂运算底 | $(\mathbf{A}_1)^n = \mathbf{A}_1$ | 恒等 |
| 加法弱势 | $\mathbf{A}_1 + \mathbf{A}_n = \mathbf{A}_n$（$n > 1$）| 被吸收 |

**$\mathbf{A}_1$ 是乘法的单位元**

---

## 四、系统公理

| 公理 | 内容 |
|:---|:---|
| **非零性** | $\forall n, \mathbf{A}_n \neq 0$ |
| **标签封闭** | 合法运算下，结果仍为 $\mathbf{A}_k$ |
| **吸收律** | $\mathbf{A}_m + \mathbf{A}_n = \mathbf{A}_{\max(m,n)}$（$m \neq n$）|
| **自增律** | $\mathbf{A}_n + \mathbf{A}_n = \mathbf{A}_{n+1}$ |
| **累积律** | $\mathbf{A}_m \times \mathbf{A}_n = \mathbf{A}_{m \times n}$ |
| **Pattern适配** | 模式约束可重构运算或过滤解 |

---

## 五、Pattern模式系统（约束构造层）

**铁律：所有模式以 `.` 开头**

### 5.1 原式系列（Primitive）

#### .P0（原式零 / Origin）

| 属性 | 内容 |
|:---|:---|
| **定义** | $N = X,\ Y \cdot X = N_x^y,\ N_x^y \neq 0,1$ |
| **推导** | $X^2 \cdot Y = X \cdot Y \Rightarrow X = 1$（$Y \neq 0$）|
| **解** | $N = X = 1,\ Y \in \mathbb{R} \setminus \{0,1\}$ |
| **输出** | **任意非0非1** |
| **难度** | ⭐⭐⭐⭐⭐ |
| **特性** | 自指奇点、任意生成器、哥德尔点 |

**示例：** $(1).\mathsf{P0} = Y = \text{任意} \neq 0,1$

---

#### .P1（原式一 / Standard）

| 属性 | 内容 |
|:---|:---|
| **定义** | $N \cdot X \cdot Y = k$（目标值）|
| **约束** | $N,X,Y \neq 0$，无其他限制 |
| **解空间** | 无穷多组（实数）/ 有限（整数）|
| **输出** | $\mathbf{A}_k$ |
| **难度** | ⭐ |
| **特性** | 最自由、基准模式 |

**示例：** $(6).\mathsf{P1} = 1_2^3 = (1 \times 2) \times 3 = 6$

---

#### .P2（原式二 / Even）

| 属性 | 内容 |
|:---|:---|
| **定义** | 结果必须为偶数，奇数加倍 |
| **规则** | $n$ 偶 $\rightarrow$ 保持；$n$ 奇 $\rightarrow$ $2n$ |
| **输出** | 偶数 $\mathbf{A}_n$ |
| **难度** | ⭐⭐⭐ |
| **特性** | 过滤器、非法转正 |

**示例：** $(\mathbf{A}_5).\mathsf{P2} = \mathbf{A}_{10}$

---

#### .P3（原式三 / Bound）

| 属性 | 内容 |
|:---|:---|
| **定义** | $X > k,\ Y < k,\ N \neq k$，结果 $= k$ |
| **解** | 实数解总存在，整数解需条件 |
| **输出** | $\mathbf{A}_k$ |
| **难度** | ⭐⭐⭐ |
| **特性** | 不等式约束、边界控制 |

**示例：** $(10).\mathsf{P3} = 1_{20}^{0.5} = (1 \times 20) \times 0.5 = 10$

---

#### .P4（原式四 / Prime）

| 属性 | 内容 |
|:---|:---|
| **定义** | $N,X,Y$ 全为质数，结果 $= k$ |
| **解** | 需 $k = p \cdot q \cdot r$（三质数积）|
| **输出** | $\mathbf{A}_k$ |
| **难度** | ⭐⭐⭐⭐ |
| **特性** | 质数分解、有限解 |

**示例：** $(30).\mathsf{P4} = 2_3^5 = (2 \times 3) \times 5 = 30$

---

#### .P5（原式五 / Sum）

| 属性 | 内容 |
|:---|:---|
| **定义** | $N + X + Y = k$，结果 $= k$ |
| **解** | 丢番图型，整数解有限 |
| **输出** | $\mathbf{A}_k$ |
| **难度** | ⭐⭐⭐⭐ |
| **特性** | 线性约束、和积问题 |

---

### 5.2 进阶模式

#### .I（启式 / Init）

| 属性 | 内容 |
|:---|:---|
| **定义** | $Y^{n \cdot x^n} = Y \cdot (2N)^X$ |
| **特性** | 超越方程、连续解空间 |
| **输出** | 实数解 |
| **难度** | ⭐⭐⭐⭐⭐ |

---

#### .Q（后式 / Queen）

| 属性 | 内容 |
|:---|:---|
| **定义** | 有效结果计数 |
| **公式** | $(k).\mathsf{L}.\mathsf{Q} = 2\tau(k) - \delta_{k \in \square}$ |
| **输出** | 整数（解的个数）|
| **难度** | ⭐⭐⭐⭐⭐⭐ |
| **特性** | 元模式、模式之模式 |

---

#### .S（阳式 / SUN）

| 属性 | 内容 |
|:---|:---|
| **定义** | $\mathbf{A}^{A - \sqrt[A]{A}} = A^{A - A^{1/A}}$ |
| **特性** | 超指数增长、无解析解 |
| **输出** | 超巨大数 |
| **难度** | ⭐⭐⭐⭐⭐ |

---

#### .k（核式 / Kernel）

| 属性 | 内容 |
|:---|:---|
| **定义** | 无理保留，有理取整近A |
| **规则** | $V$ 无理 $\rightarrow$ 保留；$V$ 有理 $\rightarrow$ $\lfloor V \rceil$ 近A |
| **输出** | 截断数值 |
| **难度** | ⭐⭐⭐⭐ |

---

#### .A（常式 / Aber）

| 属性 | 内容 |
|:---|:---|
| **定义** | 标准算术运算 |
| **特性** | 从MA回归正常数学 |
| **输出** | 普通数值 |
| **难度** | ⭐⭐ |

---

### 5.3 复合模式

#### .eA（轻松式 / Ease）

| 属性 | 内容 |
|:---|:---|
| **定义** | $(a_1...a_n).\mathsf{eA} = \sum_{i=1}^{n-1} a_i \cdot a_{i+1}$ |
| **视觉** | 菱形/金字塔 |
| **输出** | 相邻积之和 |
| **难度** | ⭐⭐⭐⭐ |

**示例：** $(234).\mathsf{eA} = (2 \times 3) + (3 \times 4) = 18$

---

#### .F（图形式 / Figure）

| 属性 | 内容 |
|:---|:---|
| **定义** | $a^{a(a-1)} = a^{\underbrace{(a-1)+...+(a-1)}_{a}}$ |
| **视觉** | 阶梯塔 |
| **输出** | 超指数 |
| **难度** | ⭐⭐⭐⭐ |

**示例：** $(3).\mathsf{F} = 3^6 = 729$

---

#### .L（终式 / Lastly）

| 属性 | 内容 |
|:---|:---|
| **定义** | $k = \sum a_i \cdot (2^{i-1})_x^y = XY \cdot S$ |
| **核心** | 位权分解 + 约束重构 + 归一化验证 |
| **输出** | 自验证结构 |
| **难度** | ⭐⭐⭐⭐⭐⭐⭐⭐ |

**示例：** $(124).\mathsf{L} = 4 \cdot 1_x^y + 2 \cdot 2_x^y + 1 \cdot 4_x^y = 12 \cdot 124 = 1488$，归一化 $1488/12 = 124$ ✓

**简记：** $n_m$ 表示 $n$ 按基 $m$ 的位权分解，如 $8_2 = 2(N_x^y) + 4(N_x^y) + 8(N_x^y)$

---

### 5.4 密钥与特殊模式

#### .key（密钥式 / Key）

| 属性 | 内容 |
|:---|:---|
| **定义** | $(序列)(密钥) \rightarrow$ 按密钥数字分组 |
| **规则** | 密钥各位 = 分组长度指令 |
| **输出** | 分组元组 |
| **难度** | ⭐⭐⭐⭐ |

**示例：** $(1234)(55) = (12340, 0)$，$(548)(12) = (5, 48, 0)$

---

#### .PN（多重原式 / Poly-Nested）

| 属性 | 内容 |
|:---|:---|
| **定义** | $(k).\mathsf{P0}.\mathsf{P1}.\mathsf{P2}.\mathsf{P3}.\mathsf{P4}.\mathsf{P5}$ |
| **结果** | **空集**（P4与P5不相容）|
| **难度** | ⭐⭐⭐⭐⭐⭐⭐ |

---

## 六、运算优先级

| 优先级 | 运算 | 结合性 |
|:---:|:---|:---:|
| 1（最高）| Pattern模式括号内部 | — |
| 2 | 幂运算 `^` | 右结合 |
| 3 | 乘法、除法 | 左结合 |
| 4 | 加法、减法 | 左结合 |
| 5 | 模式应用（.P）| 左结合 |
| 6（最低）| Pattern模式应用最后执行 | — |

---

## 七、元运算

| 运算 | 语法 | 效果 |
|:---|:---|:---|
| **复制** | `n.P` | $\underbrace{.P.P...P}_{n}$ |
| **点链** | `.P.Q` | 流水线执行 |
| **括号序列** | `(abc).P` | 整体应用 |

---

## 八、系统架构

